(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";let s=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>s],63209)},69638,e=>{"use strict";let s=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>s],69638)},32545,e=>{"use strict";var s=e.i(43476),l=e.i(71645),t=e.i(75254);let a=(0,t.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),r=(0,t.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d=(0,t.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var c=e.i(69638),i=e.i(63209);let n=(0,t.default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);function o(){let[e,t]=(0,l.useState)({embeddingModel:"openai",embeddingApiKey:"",embeddingBaseUrl:"https://api.openai.com/v1",llmModel:"gpt-4",llmApiKey:"",llmBaseUrl:"https://api.openai.com/v1",matchingStrategy:"rule"}),[o,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[g,h]=(0,l.useState)(!1),[b,p]=(0,l.useState)(null),[y,j]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=localStorage.getItem("modelConfig");e&&t(JSON.parse(e))},[]);let v=async s=>{p(s),j(null),await new Promise(e=>setTimeout(e,1500)),("embedding"===s?e.embeddingApiKey:e.llmApiKey)?j({success:!0,message:"连接测试成功！"}):j({success:!1,message:"请先填写API Key"}),p(null)};return(0,s.jsx)("div",{className:"h-full overflow-y-auto p-8",children:(0,s.jsxs)("div",{className:"mx-auto max-w-3xl",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"系统设置"}),(0,s.jsx)("p",{className:"mt-2 text-gray-600",children:"配置AI模型和匹配策略，提升智能审核能力"})]}),(0,s.jsxs)("div",{className:"mb-6 rounded-lg border bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,s.jsx)(n,{className:"mr-2 h-5 w-5 text-purple-600"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Embedding模型配置"})]}),(0,s.jsx)("p",{className:"mb-6 text-sm text-gray-600",children:"用于条款向量化和语义检索，提高匹配准确度"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"模型类型"}),(0,s.jsxs)("select",{value:e.embeddingModel,onChange:s=>t({...e,embeddingModel:s.target.value}),className:"block w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"openai",children:"OpenAI (text-embedding-3-small)"}),(0,s.jsx)("option",{value:"openai-large",children:"OpenAI (text-embedding-3-large)"}),(0,s.jsx)("option",{value:"local",children:"本地Sentence-Transformers"}),(0,s.jsx)("option",{value:"zhipu",children:"智谱AI (embedding-2)"}),(0,s.jsx)("option",{value:"qwen",children:"通义千问 (text-embedding-v2)"})]})]}),"local"!==e.embeddingModel&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:o?"text":"password",value:e.embeddingApiKey,onChange:s=>t({...e,embeddingApiKey:s.target.value}),placeholder:"sk-...",className:"block w-full rounded-lg border border-gray-300 px-4 py-2 pr-10 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"button",onClick:()=>m(!o),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?(0,s.jsx)(d,{className:"h-5 w-5"}):(0,s.jsx)(r,{className:"h-5 w-5"})})]})]}),"local"!==e.embeddingModel&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Base URL (可选)"}),(0,s.jsx)("input",{type:"text",value:e.embeddingBaseUrl,onChange:s=>t({...e,embeddingBaseUrl:s.target.value}),placeholder:"https://api.openai.com/v1",className:"block w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"如使用代理或自部署服务，请填写自定义地址"})]}),"local"!==e.embeddingModel&&(0,s.jsx)("button",{onClick:()=>v("embedding"),disabled:null!==b,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"embedding"===b?"测试中...":"测试连接"})]})]}),(0,s.jsxs)("div",{className:"mb-6 rounded-lg border bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center",children:[(0,s.jsx)(n,{className:"mr-2 h-5 w-5 text-blue-600"}),(0,s.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"LLM模型配置"})]}),(0,s.jsx)("p",{className:"mb-6 text-sm text-gray-600",children:"用于智能推荐和条款解释，提供更智能的审核建议"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"模型类型"}),(0,s.jsxs)("select",{value:e.llmModel,onChange:s=>t({...e,llmModel:s.target.value}),className:"block w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,s.jsx)("option",{value:"gpt-4",children:"OpenAI GPT-4"}),(0,s.jsx)("option",{value:"gpt-4-turbo",children:"OpenAI GPT-4 Turbo"}),(0,s.jsx)("option",{value:"gpt-3.5-turbo",children:"OpenAI GPT-3.5 Turbo"}),(0,s.jsx)("option",{value:"claude-3-opus",children:"Anthropic Claude 3 Opus"}),(0,s.jsx)("option",{value:"claude-3-sonnet",children:"Anthropic Claude 3 Sonnet"}),(0,s.jsx)("option",{value:"zhipu-glm-4",children:"智谱AI GLM-4"}),(0,s.jsx)("option",{value:"qwen-plus",children:"通义千问 Plus"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Key"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:u?"text":"password",value:e.llmApiKey,onChange:s=>t({...e,llmApiKey:s.target.value}),placeholder:"sk-...",className:"block w-full rounded-lg border border-gray-300 px-4 py-2 pr-10 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,s.jsx)("button",{type:"button",onClick:()=>x(!u),className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?(0,s.jsx)(d,{className:"h-5 w-5"}):(0,s.jsx)(r,{className:"h-5 w-5"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"API Base URL (可选)"}),(0,s.jsx)("input",{type:"text",value:e.llmBaseUrl,onChange:s=>t({...e,llmBaseUrl:s.target.value}),placeholder:"https://api.openai.com/v1",className:"block w-full rounded-lg border border-gray-300 px-4 py-2 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,s.jsx)("button",{onClick:()=>v("llm"),disabled:null!==b,className:"rounded-lg border border-gray-300 px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"llm"===b?"测试中...":"测试连接"})]})]}),(0,s.jsxs)("div",{className:"mb-6 rounded-lg border bg-white p-6 shadow-sm",children:[(0,s.jsx)("h2",{className:"mb-4 text-xl font-bold text-gray-900",children:"匹配策略"}),(0,s.jsx)("p",{className:"mb-6 text-sm text-gray-600",children:"选择条款匹配的方式，不同策略有不同的准确度和响应速度"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-start rounded-lg border p-4 cursor-pointer hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",name:"strategy",value:"rule",checked:"rule"===e.matchingStrategy,onChange:s=>t({...e,matchingStrategy:s.target.value}),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"仅规则匹配（当前）"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"基于预设的审核规则进行精确匹配，速度快，结果稳定"})]})]}),(0,s.jsxs)("label",{className:"flex items-start rounded-lg border p-4 cursor-pointer hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",name:"strategy",value:"vector",checked:"vector"===e.matchingStrategy,onChange:s=>t({...e,matchingStrategy:s.target.value}),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"向量检索 + 规则匹配"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"结合语义相似度和规则匹配，提高覆盖率，需要配置Embedding模型"})]})]}),(0,s.jsxs)("label",{className:"flex items-start rounded-lg border p-4 cursor-pointer hover:bg-gray-50",children:[(0,s.jsx)("input",{type:"radio",name:"strategy",value:"llm",checked:"llm"===e.matchingStrategy,onChange:s=>t({...e,matchingStrategy:s.target.value}),className:"mt-1 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium text-gray-900",children:"LLM智能推荐"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"使用大语言模型进行智能分析和推荐，准确度最高，需要配置LLM模型"})]})]})]})]}),y&&(0,s.jsx)("div",{className:`mb-6 rounded-lg border p-4 ${y.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:(0,s.jsxs)("div",{className:"flex items-start",children:[y.success?(0,s.jsx)(c.CheckCircle,{className:"h-5 w-5 text-green-600 mt-0.5 mr-3"}):(0,s.jsx)(i.AlertCircle,{className:"h-5 w-5 text-red-600 mt-0.5 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:`text-sm font-medium ${y.success?"text-green-800":"text-red-800"}`,children:y.success?"测试成功":"测试失败"}),(0,s.jsx)("p",{className:`mt-1 text-sm ${y.success?"text-green-700":"text-red-700"}`,children:y.message})]})]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("button",{onClick:()=>{localStorage.setItem("modelConfig",JSON.stringify(e)),h(!0),setTimeout(()=>h(!1),3e3)},className:"flex items-center rounded-lg bg-blue-600 px-6 py-3 font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:[(0,s.jsx)(a,{className:"mr-2 h-5 w-5"}),"保存配置"]}),g&&(0,s.jsxs)("div",{className:"flex items-center text-green-600",children:[(0,s.jsx)(c.CheckCircle,{className:"mr-2 h-5 w-5"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"配置已保存"})]})]}),(0,s.jsx)("div",{className:"mt-6 rounded-lg border border-blue-200 bg-blue-50 p-4",children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)(i.AlertCircle,{className:"h-5 w-5 text-blue-600 mt-0.5 mr-3"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-blue-800",children:"配置说明"}),(0,s.jsxs)("ul",{className:"mt-2 text-sm text-blue-700 space-y-1",children:[(0,s.jsx)("li",{children:"• API Key将存储在浏览器本地，不会上传到服务器"}),(0,s.jsx)("li",{children:'• 建议先使用"仅规则匹配"测试系统，再逐步升级到智能匹配'}),(0,s.jsx)("li",{children:"• 向量检索和LLM功能需要后端支持，请确保后端已部署相应模块"})]})]})]})})]})})}e.s(["default",()=>o],32545)}]);